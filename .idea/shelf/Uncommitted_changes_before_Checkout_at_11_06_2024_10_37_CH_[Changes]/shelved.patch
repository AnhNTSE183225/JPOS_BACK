Index: src/main/java/com/fpt/jpos/auth/AuthenticationService.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.fpt.jpos.auth;\r\n\r\nimport com.fpt.jpos.pojo.Account;\r\nimport com.fpt.jpos.pojo.enums.Role;\r\nimport com.fpt.jpos.repository.IAccountRepository;\r\nimport com.fpt.jpos.service.JwtService;\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class AuthenticationService {\r\n\r\n    private final IAccountRepository repository;\r\n    private final PasswordEncoder passwordEncoder;\r\n    private final JwtService jwtService;\r\n    private final AuthenticationManager authenticationManager;\r\n\r\n    public AuthenticationResponse register(RegisterRequest request) {\r\n        var user = Account.builder()\r\n                .username(request.getUsername())\r\n                .password(passwordEncoder.encode(request.getPassword()))\r\n                .status(true)\r\n                .role(Role.customer)\r\n                .build();\r\n        repository.save(user);\r\n        var jwtToken = jwtService.generateToken(user);\r\n        return AuthenticationResponse.builder()\r\n                .token(jwtToken)\r\n                .build();\r\n    }\r\n\r\n    public AuthenticationResponse authenticate(AuthenticationRequest request) {\r\n        authenticationManager.authenticate(\r\n                new UsernamePasswordAuthenticationToken(request.getUsername(), request.getPassword())\r\n        );\r\n        var user = repository.findByUsername(request.getUsername())\r\n                .orElseThrow();\r\n        var jwtToken = jwtService.generateToken(user);\r\n        return AuthenticationResponse.builder()\r\n                .token(jwtToken)\r\n                .build();\r\n    }\r\n\r\n\r\n}\r\n
===================================================================
diff --git a/src/main/java/com/fpt/jpos/auth/AuthenticationService.java b/src/main/java/com/fpt/jpos/auth/AuthenticationService.java
--- a/src/main/java/com/fpt/jpos/auth/AuthenticationService.java	
+++ b/src/main/java/com/fpt/jpos/auth/AuthenticationService.java	
@@ -3,6 +3,7 @@
 import com.fpt.jpos.pojo.Account;
 import com.fpt.jpos.pojo.enums.Role;
 import com.fpt.jpos.repository.IAccountRepository;
+import com.fpt.jpos.repository.IStaffRepository;
 import com.fpt.jpos.service.JwtService;
 import lombok.RequiredArgsConstructor;
 import org.springframework.security.authentication.AuthenticationManager;
@@ -15,6 +16,7 @@
 public class AuthenticationService {
 
     private final IAccountRepository repository;
+    private final IStaffRepository staffRepository;
     private final PasswordEncoder passwordEncoder;
     private final JwtService jwtService;
     private final AuthenticationManager authenticationManager;
